<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Add Task</title>
  <link rel="stylesheet" href="../styles/summary.css">
  <link rel="stylesheet" href="../styles/headbar.css">
  <link rel="stylesheet" href="../styles/sidemenue.css">
  <link rel="stylesheet" href="./addTask.css">
  <link rel="stylesheet" href="./addTask_toast_and_subtasks.css">
  <link rel="stylesheet" href="../styles/responsive.css">
  <link rel="icon" type="image/x-icon" href="../assets/img/Capa 2.png">
</head>

<body onload="renderUserMenuePopupMenu(), checkIfLogedIn(), onloadFunctionHeader(), renderContactsInDropdown()">

  <header>
    <img class="join-logo-header-img" src="../assets/img/Capa 2.svg" alt="joing.svg">
    <div class="header-right-part">
      <a class="header-font"> Kanban Project Management Tool</a>
      <a href="../help.html">
        <img class="img-headbar" src="../assets/img/help.svg" alt="?-Logo">
      </a>
      <div onclick="toggleUserMenuePopupMenu()" class="guest-logo-header">
        <a class="g-unit" id="user-ball-ID">G</a>
      </div>
    </div>
  </header>

  <div class="d_none" id="user-menue-header">
  </div>
  <div class="layout-container-addTask_page">
    <nav class="side-menu">
      <div class="sidebar-high-section-container">
        <a href="../summaryAll.html" class="button-sidebar">
          <img class="img-size-sidebar" src="../assets/img/Vector.svg" alt="Board icon">
          <span class="sidebar-font">Summary</span>
        </a>
        <a href="../addTask_code/addTask.html" class="button-sidebar display-flex-center-y">
          <img class="img-size-sidebar" src="../assets/img/edit_square.svg" alt="Brett icon">
          <span class="sidebar-font">Add Task</span>
        </a>
        <a href="../board_code/board.html" class="button-sidebar display-flex-center-y">
          <img class="img-size-sidebar" src="../assets/img/Board.svg" alt="Board-2 icon">
          <span class="sidebar-font">Board</span>
        </a>
        <a href="../contactsUser.html" class="button-sidebar display-flex-center-y">
          <img class="img-size-sidebar" src="../assets/img/perm_contact_calendar.svg" alt="Kontakt icon">
          <span class="sidebar-font">Contacts</span>
        </a>
      </div>
      <div class="sidebar-low-section-container">
        <div class="padding-up-down-small">
          <a class="button-sidebar padding-up-down-small" href="../privacy.html">
            <span class="sidebar-font">Privacy Policy</span>
          </a>
        </div>
        <div class="padding-up-down-small">
          <a class="button-sidebar padding-up-down-small" href="../legal.html">
            <span class="sidebar-font">Legal Notice</span>
          </a>
        </div>
      </div>
    </nav>

    <div class="wrapper-main-task-btn-addTask_page">
      <main class="main-addTask_page">

        <section class="task-input-addTask_page">
          <label for="title" class="label-addTask_page">Title</label>
          <input type="text" id="title" class="task-title-addTask_page" name="title" placeholder="Enter a title">
          <p id="title-error" class="error-text"></p>
        </section>

        <section class="task-input-addTask_page">
          <label for="description" class="label-addTask_page">Description</label>
          <p class="section-heading-addTask_page"><strong>Description</strong> (optional)</p>
          <textarea id="description" class="task-description-addTask_page" name="description"
            placeholder="Enter a description"></textarea>
        </section>

        <div class="date-input-wrapper-addTask_page">
          <label for="due-date" class="label-addTask_page">Due date</label>
          <p class="section-heading-addTask_page"><strong>Due date</strong></p>
          <div class="date-field-addTask_page">
            <input type="text" id="due-date" class="task-date-addTask_page" name="due-date" placeholder="dd/mm/yyyy">
            <img src="./icons_addTask/separatedAddTaskIcons/event.svg">
          </div>
          <p id="due-date-error" class="error-text"></p>
        </div>

        <section class="task-input-addTask_page">
          <label class="label-addTask_page">Priority</label>
          <p class="section-heading-addTask_page"><strong>Priority</strong></p>
          <div class="priority-group-addTask_page">
            <button type="button" class="priority-btn-urgent-addTask_page" onclick="setPriorityAddTask('urgent')">Urgent
              <img class="addTask-icons-addTask_page" src="./icons_addTask/separatedAddTaskIcons/urgent_icon.svg"
                alt="urgent icon">
            </button>
            <button type="button" class="priority-btn-medium-addTask_page" onclick="setPriorityAddTask('medium')">Medium
              <img class="addTask-icons-addTask_page" src="./icons_addTask/separatedAddTaskIcons/sum_icon.svg"
                alt="sum icon">
            </button>
            <button type="button" class="priority-btn-low-addTask_page" onclick="setPriorityAddTask('low')">Low
              <img class="addTask-icons-addTask_page" src="./icons_addTask/separatedAddTaskIcons/low_icon.svg"
                alt="2 arrows in green showing up">
            </button>
          </div>
        </section>

        <section class="task-input-addTask_page">
          <label for="assign" class="label-addTask_page">Assign to</label>
          <p class="section-heading-addTask_page"><strong>Assign to</strong> (optional)</p>

          <div class="assign-select-addTask_page" id="assign-select" onclick="toggleAssignDropdown(event)">
            <span class="assign-placeholder-addTask_page">Select contact to assign</span>
            <img src="./icons_addTask/separatedAddTaskIcons/arrow_drop_down.svg" alt="Open assign menu"
              class="assign-arrow-addTask_page">
          </div>

          <div id="assigned-avatars"></div>

          <div class="assign-dropdown-addTask_page" aria-label="Assign to options" role="listbox" id="contacts-containerID"></div>
          
        </section>

        <section class="task-input-addTask_page">
          <label for="category" class="label-addTask_page">Category</label>
          <p class="section-heading-addTask_page"><strong>Category</strong></p>
          <select id="category" class="task-select-addTask_page" name="category">
            <option value="">Select task category</option>
            <option value="technical">Technical Task</option>
            <option value="user-story">User Story</option>
          </select>
        </section>

        <section class="task-input-addTask_page">
          <label for="subtask" class="label-addTask_page">Subtasks</label>
          <p class="section-heading-addTask_page"><strong>Subtasks</strong> (optional)</p>

          <div class="subtask-wrapper-addTask_page">
            <input type="text" id="subtask" class="task-subtask-addTask_page" name="subtask"
              placeholder="Add new subtask">
            <div class="subtask-icons-addTask_page">
              <img src="../assets/img/close-blue.svg" alt="Close subtask" class="subtask-delete-addTask_page">
              <div class="subtask-divider-addTask_page"></div>
              <img src="../assets/img/check.svg" alt="Confirm subtask" class="subtask-check-addTask_page">
            </div>
          </div>
          <ul id="subtask-list" class="subtask-list-addTask_page"></ul>
        </section>
      </main>

      <footer class="task-buttons-addTask_page">
        <button class="btn-clear-addTask_page" onclick="clearForm()">Clear x</button>
        <button class="btn-done-addTask_page btn-with-svg-addTask_page" onclick="createTask()">Create Task
          <img src="./icons_addTask/separatedAddTaskIcons/check.svg" alt="Check icon" class="check-icon-addTask_page">
        </button>
      </footer>

    </div>
  </div>
  <div id="toast-root" aria-live="polite" aria-atomic="true"></div>
  <script type="module" src="../scripts/firebase.js"></script>
  <script src="./addTask_assign.js" defer></script>
  <script src="addTask.js" defer></script>
  <script src="../scripts/header.js" defer></script>
</body>

</html>